project:
  name: 'proto'
  description: 'Autogenerated protobuf clients for all services in the repo'

tasks:
  generate:
    options:
      runFromWorkspaceRoot: true
      cache: false
    command:
      - node_modules/.bin/grpc_tools_node_protoc
      - --ts_out=packages/proto/src
      - --ts_opt=unary_rpc_promise=true
      - -Iapps
      - 'apps/**/*.proto'
